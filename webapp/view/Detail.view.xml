<mvc:View
	controllerName="cadastromotoristas4hana.controller.Detail"
	xmlns="sap.m"
	xmlns:semantic="sap.f.semantic"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout"
	beforeRendering="onBeforeDeatailRendering"
	xmlns:upload="sap.m.upload">
	<semantic:SemanticPage
		id="page"
		busy="{detailView>/busy}"
		busyIndicatorDelay="{detailView>/delay}"
		showFooter="{detailView>/footer}"
		core:require="{
			formatMessage: 'sap/base/strings/formatMessage',
			DateType: 'sap/ui/model/type/Date'
		}">
		<semantic:titleHeading>
			<Title
				text="{path: 'Nome'}"/>
		</semantic:titleHeading>
		<semantic:headerContent>
			<l:HorizontalLayout>
				<l:VerticalLayout>
					<ObjectAttribute
						title="{i18n>commonItemCPF}"
						text="{
							path: 'Cpf',
							formatter: '.formatter.cpfMask',
							formatOptions: { style: 'medium' }
						}"/>
					<ObjectAttribute
						title="{i18n>Endereco}"
						text="{Rua}, {Numero} - {Complemento} - {Bairro}, {Cidade} - {Estado}, {Cep}"
						/>	
					<ObjectAttribute 
						title="{i18n>Email}"
						text="{
							   path: 'Email',
							   formatOptions: { style: 'medium' } 
							   }">
					</ObjectAttribute>
				</l:VerticalLayout>
				<l:VerticalLayout>
				
				</l:VerticalLayout>
				
			</l:HorizontalLayout>
			
		</semantic:headerContent>
		<semantic:content>
		
			<l:VerticalLayout>
			
				<IconTabBar
					id="iconTabBar"
					headerBackgroundDesign="Transparent"
					select=".onTabSelect"
					selectedKey="{detailView>/selectedTab}">
					<items>
					    <IconTabFilter
							id="iconTabFilterDriver"
							icon="sap-icon://employee"
							tooltip="Motorista"
							key="driver">
						</IconTabFilter>
						<IconTabFilter
							id="iconTabFilterDocuments"
							icon="sap-icon://business-card"
							tooltip="Documentos"
							key="documents">
						</IconTabFilter>
						<IconTabFilter
							id="iconTabFilterAttachments"
							icon="sap-icon://attachment"
							tooltip="Anexos"
							key="attachments">
						</IconTabFilter>
						<IconTabFilter
							id="iconTabFilterIntenal"
							icon="sap-icon://hint"
							tooltip="Informações Internas"
							visible="{detailView>/enableInternalInformation}"
							key="internal">
						</IconTabFilter>
					</items>
				</IconTabBar>

				<Table
					id="lineItemsList"
					class="sapUiSmallMarginTop sapUiSmallMarginBottom"
					width="auto"
					items="{path: '/E_FuncionarioVinculoSet'}"
					mode="SingleSelectMaster"
					updateFinished="onListUpdateFinished"
					updateStarted="onListUpdateStart" 
					noDataText="Sem transportadoras vinculadas"
					busyIndicatorDelay="{detailView>/lineItemTableDelay}"					
					>					
					<headerToolbar>
						<Toolbar id="lineItemsToolbar">
							<Title
								id="lineItemsHeader"
								text="Vinculos com Transportadoras"/>	

						<ToolbarSpacer/>						
						<Button type="Reject"
							text="Desvincular"
							width="100px"
							press="onPressDesvincular"
							ariaDescribedBy="rejectButtonDescription genericButtonDescription"/>														
						</Toolbar>
					</headerToolbar>		
					<columns>
						<Column minScreenWidth="Tablet"
								demandPopin="true">
							<Text text="Código da Transportadora"/>
						</Column>
						<Column
							minScreenWidth="Tablet"
							demandPopin="true"
							hAlign="Begin">
							<Text text="Nome da Transportadora"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<Text text="{Tdlnr}"/>
								<Text text="{NameTransp}"/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
				
			</l:VerticalLayout>
		</semantic:content>
		 
		<semantic:editAction>
			
			<semantic:EditAction 
				id="editAction"
				press=".onEditDetail"
			/>
		</semantic:editAction>

		<semantic:closeAction>
			<semantic:CloseAction
				id="closeColumn"
				press=".onCloseDetailPress"/>
		</semantic:closeAction>
		<semantic:fullScreenAction>
			<semantic:FullScreenAction
				id="enterFullScreen"
				visible="{= !${device>/system/phone} &amp;&amp; !${appView>/actionButtonsInfo/midColumn/fullScreen}}"
				press="toggleFullScreen"/>
		</semantic:fullScreenAction>
		<semantic:exitFullScreenAction>
			<semantic:ExitFullScreenAction
				id="exitFullScreen"
				visible="{= !${device>/system/phone} &amp;&amp; ${appView>/actionButtonsInfo/midColumn/fullScreen}}"
				press="toggleFullScreen"/>
		</semantic:exitFullScreenAction>

				<!-- Semantic Footer Buttons -->
		<semantic:footerMainAction>
			<semantic:FooterMainAction id="btnSaveButton" text="{i18n>save}" press="onSaveDetail"/>
		</semantic:footerMainAction>

		<semantic:footerCustomActions>
			<Button id="cancelAction" text="{i18n>cancel}" press="onCancelDetail"/>
		</semantic:footerCustomActions>

	</semantic:SemanticPage>
	</mvc:View>